# üéπ Piano Hero Cover

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –≤–∏–¥–µ–æ —Å —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π –∏ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∑–≤—É–∫–æ–º –∫–∞–≤–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ.

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

Piano Hero Cover –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–µ –≤—Ö–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ 1080√ó1920 —Å:
- –ü–∞–¥–∞—é—â–∏–º–∏ –Ω–æ—Ç–∞–º–∏ –∫–∞–∫ –≤ Guitar Hero
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –ø–∏–∞–Ω–∏–Ω–æ –≤–Ω–∏–∑—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∏–∞–Ω–∏–Ω–æ-–∫–∞–≤–µ—Ä–æ–º
- –ë–µ–∑ —Ç–µ–∫—Å—Ç–∞, –ø–æ–¥–ø–∏—Å–µ–π –∏ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –æ—Ç –≤—Ö–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ –¥–æ –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - 1080√ó1920, 60 FPS
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** - FFmpeg, Basic Pitch, FluidSynth, MidiVisualizer
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - macOS –∏ Linux
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–µ–ª—ã—Ö –ø–∞–ø–æ–∫
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ç–µ–º—ã** - –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–í—Ö–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ ‚Üí –ê—É–¥–∏–æ ‚Üí MIDI ‚Üí –ü–∏–∞–Ω–∏–Ω–æ-–∫–∞–≤–µ—Ä + –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –§–∏–Ω–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ** - FFmpeg
2. **–ê—É–¥–∏–æ ‚Üí MIDI** - Basic Pitch (Spotify)
3. **MIDI ‚Üí –ü–∏–∞–Ω–∏–Ω–æ** - FluidSynth + SoundFont
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - MidiVisualizer
5. **–§–∏–Ω–∞–ª—å–Ω—ã–π –º–æ–Ω—Ç–∞–∂** - FFmpeg

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **FFmpeg** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ
- **FluidSynth** - —Å–∏–Ω—Ç–µ–∑ MIDI –≤ –∞—É–¥–∏–æ
- **Python 3.10+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **MidiVisualizer** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è MIDI

### Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- basic-pitch - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ –≤ MIDI
- pretty-midi - –æ–±—Ä–∞–±–æ—Ç–∫–∞ MIDI
- numpy, scipy - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- PyYAML - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### macOS
```bash
git clone <repository>
cd piano-hero
bash scripts/install_mac.sh
```

### Linux
```bash
git clone <repository>
cd piano-hero
bash scripts/install_linux.sh
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
source .venv/bin/activate
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ
```bash
python -m src.main --input input/video.mp4
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```bash
python -m src.main --input input/ --output output/
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏
```bash
python -m src.main --input input/video.mp4 \
  --output output/ \
  --fps 60 \
  --keep-workdir \
  --verbose
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`configs/settings.yaml`)
```yaml
# –í–∏–¥–µ–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
fps: 60
target_width: 1080
target_height: 1920

# –ê—É–¥–∏–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
audio_bitrate: "256k"
sample_rate: 44100
midi_gain: 0.9

# –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
crf: 18
preset: "medium"
```

### –¢–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (`configs/midivisualizer.theme.json`)
```json
{
  "keyboard": {
    "drawKeys": true,
    "drawKeyLabels": false,
    "height": 180
  },
  "theme": {
    "backgroundColor": "#0B0B0B",
    "noteColor": "#FFD447",
    "highlightColor": "#FFE37A",
    "whiteKeyColor": "#FFFFFF",
    "blackKeyColor": "#111111"
  }
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
piano-hero/
‚îú‚îÄ‚îÄ input/                    # –ò—Å—Ö–æ–¥–Ω—ã–µ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ output/                   # –ì–æ—Ç–æ–≤—ã–µ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ work/                     # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ piano.sf2            # SoundFont –ø–∏–∞–Ω–∏–Ω–æ
‚îú‚îÄ‚îÄ configs/
‚îÇ   ‚îú‚îÄ‚îÄ settings.yaml        # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ midivisualizer.theme.json  # –¢–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ audio_to_midi.py     # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ –≤ MIDI
‚îÇ   ‚îú‚îÄ‚îÄ midi_to_audio.py     # –°–∏–Ω—Ç–µ–∑ –ø–∏–∞–Ω–∏–Ω–æ-–∫–∞–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ visualize_midi.py    # –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ postprocess.py       # –§–∏–Ω–∞–ª—å–Ω—ã–π –º–æ–Ω—Ç–∞–∂
‚îÇ   ‚îú‚îÄ‚îÄ utils.py             # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ config.py            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ install_mac.sh       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è macOS
‚îÇ   ‚îî‚îÄ‚îÄ install_linux.sh     # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Linux
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –∏–∑–º–µ–Ω–∏–≤ —Ñ–∞–π–ª `configs/midivisualizer.theme.json`:

- `backgroundColor` - —Ü–≤–µ—Ç —Ñ–æ–Ω–∞
- `noteColor` - —Ü–≤–µ—Ç –ø–∞–¥–∞—é—â–∏—Ö –Ω–æ—Ç
- `highlightColor` - —Ü–≤–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∏
- `whiteKeyColor` - —Ü–≤–µ—Ç –±–µ–ª—ã—Ö –∫–ª–∞–≤–∏—à
- `blackKeyColor` - —Ü–≤–µ—Ç —á–µ—Ä–Ω—ã—Ö –∫–ª–∞–≤–∏—à
- `noteHeight` - –≤—ã—Å–æ—Ç–∞ –Ω–æ—Ç
- `noteOpacity` - –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –Ω–æ—Ç

## üîß CLI –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `--input, -i` | –ü—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É –≤–∏–¥–µ–æ –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ |
| `--output, -o` | –í—ã—Ö–æ–¥–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ./output) |
| `--config, -c` | –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É |
| `--keep-workdir` | –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞–±–æ—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ |
| `--fps` | FPS –¥–ª—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ |
| `--theme` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Ç–µ–º—ã |
| `--verbose, -v` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ |

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg

# CentOS/RHEL
sudo yum install ffmpeg
```

### –û—à–∏–±–∫–∞ "FluidSynth –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# macOS
brew install fluidsynth

# Ubuntu/Debian
sudo apt install fluidsynth

# CentOS/RHEL
sudo yum install fluidsynth
```

### –û—à–∏–±–∫–∞ "MidiVisualizer –Ω–µ –Ω–∞–π–¥–µ–Ω"
–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç MidiVisualizer. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:
```bash
# –°–∫–∞—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é
curl -L -o MidiVisualizer.zip "https://github.com/kosua20/MidiVisualizer/releases/latest/download/MidiVisualizer-macOS.zip"
unzip MidiVisualizer.zip
chmod +x MidiVisualizer/midivisualizer
```

### –û—à–∏–±–∫–∞ "SoundFont –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –°–∫–∞—á–∞—Ç—å SoundFont
curl -L -o assets/piano.sf2 "https://musical-artifacts.com/artifacts/1/fluidr3_gm.sf2"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
source .venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt --force-reinstall
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **CPU**: 4+ —è–¥—Ä–∞
- **RAM**: 8+ GB
- **–î–∏—Å–∫**: 10+ GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **GPU**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (CPU –æ–±—Ä–∞–±–æ—Ç–∫–∞)

### –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- 1 –º–∏–Ω—É—Ç–∞ –≤–∏–¥–µ–æ ‚âà 2-5 –º–∏–Ω—É—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞—É–¥–∏–æ –∏ –º–æ—â–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

## üéµ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### –í—Ö–æ–¥–Ω—ã–µ –≤–∏–¥–µ–æ:
- MP4, AVI, MOV, MKV, WebM, FLV
- –õ—é–±–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
- –õ—é–±–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—ã—Ö–æ–¥–Ω—ã–µ –≤–∏–¥–µ–æ:
- MP4 (H.264)
- 1080√ó1920 (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
- 60 FPS
- AAC –∞—É–¥–∏–æ

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
git pull origin main
source .venv/bin/activate
pip install -r requirements.txt --upgrade
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º:
- FFmpeg (LGPL)
- Basic Pitch (Apache 2.0)
- FluidSynth (LGPL)
- MidiVisualizer (MIT)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫"
2. –°–æ–∑–¥–∞–π—Ç–µ Issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

## üéâ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–≤–µ—Ä–∞ –¥–ª—è TikTok
```bash
python -m src.main --input input/song.mp4 --output output/ --fps 60
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–ª—å–±–æ–º–∞
```bash
python -m src.main --input input/album/ --output output/album_covers/
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
```bash
python -m src.main --input input/video.mp4 --output output/ --fps 30
```

---

**Piano Hero Cover** - –ø—Ä–µ–≤—Ä–∞—â–∞–π—Ç–µ –ª—é–±—É—é –º—É–∑—ã–∫—É –≤ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–∏–∞–Ω–∏–Ω–æ-—à–æ—É! üéπ‚ú®



